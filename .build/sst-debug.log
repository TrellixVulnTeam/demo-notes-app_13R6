[2022-05-26T21:52:04.320] [DEBUG] default - SST: 1.1.2
[2022-05-26T21:52:04.342] [DEBUG] default - CDK: 2.24.0
[2022-05-26T21:52:04.348] [DEBUG] aws-auth - Determining if we're on an EC2 instance.
[2022-05-26T21:52:04.364] [DEBUG] aws-auth - Does not look like an EC2 instance.
[2022-05-26T21:52:05.219] [INFO] default - Using stage: admin
[2022-05-26T21:52:05.230] [INFO] default - [90mPreparing your SST app[39m
[2022-05-26T21:52:05.331] [INFO] default - 
[2022-05-26T21:52:05.346] [INFO] default - =======================
[2022-05-26T21:52:05.347] [INFO] default -  Deploying debug stack
[2022-05-26T21:52:05.348] [INFO] default - =======================
[2022-05-26T21:52:05.349] [INFO] default - 
[2022-05-26T21:52:05.351] [DEBUG] core - synth {
  output: 'cdk.out',
  app: 'node bin/index.js notes admin us-east-1 "/Users/jmkim/notes/.build/lib"',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-05-26T21:52:09.815] [TRACE] cdk - 

[2022-05-26T21:52:09.877] [INFO] default - [90mDeploying stacks[39m
[2022-05-26T21:52:09.880] [DEBUG] core - checkInReviewBootstrapStacks
[2022-05-26T21:52:09.880] [DEBUG] core - checkInReviewBootstrapStackInRegion us-east-1
[2022-05-26T21:52:11.281] [TRACE] core - Initial stack states: [{"id":"admin-notes-debug-stack","name":"admin-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-05-26T21:52:11.286] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-debug-stack","name":"admin-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-05-26T21:52:11.287] [DEBUG] core - deploy stack: started admin-notes-debug-stack
[2022-05-26T21:52:11.304] [DEBUG] core - deploy stack: get pre-deploy status
[2022-05-26T21:52:12.187] [DEBUG] core - deploy stack: get pre-deploy status: {
  StackStatus: 'CREATE_COMPLETE',
  LastUpdatedTime: 2022-05-23T13:24:24.354Z
}
[2022-05-26T21:52:12.205] [DEBUG] core - deploy stack: addInUseExports
[2022-05-26T21:52:12.209] [DEBUG] core - deploy stack: isTemplateChanged
[2022-05-26T21:52:13.613] [DEBUG] core - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs12.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: admin-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: admin
      AutoDeploy: true
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /admin
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:13.621] [DEBUG] core - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs12.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.483ae06ed27ef8ca76e011264d772420593a6cfe8544759c306ef3b98c9e25be
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: admin-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: admin
      AutoDeploy: true
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        admin-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.558dc75fbdc793c8e2f64f85d2d7ed2cb820c727ec7e9b08666ad1af0103992e
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs12.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: admin-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /admin
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:13.621] [DEBUG] core - deploy stack: isTemplateChanged: unchanged
[2022-05-26T21:52:13.622] [DEBUG] core - deploy stack: done admin-notes-debug-stack {
  status: 'unchanged',
  statusReason: undefined,
  account: '770168654497',
  outputs: {
    BucketArn: 'arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0',
    BucketName: 'admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0',
    Endpoint: 'wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin'
  },
  exports: {}
}
[2022-05-26T21:52:13.622] [INFO] core - [32m[39m
[32m ✅  admin-notes-debug-stack (no changes)[39m
[32m[39m
[2022-05-26T21:52:13.641] [DEBUG] core - At least 1 stack successfully deployed, call deployStacks() again
[2022-05-26T21:52:13.641] [TRACE] core - After deploy stacks: [{"id":"admin-notes-debug-stack","name":"admin-notes-debug-stack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569533622,"endedAt":1653569533622,"events":[],"outputs":{"BucketArn":"arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0","BucketName":"admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0","Endpoint":"wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin"},"exports":{}}]
[2022-05-26T21:52:13.644] [INFO] default - 
Stack admin-notes-debug-stack
[2022-05-26T21:52:13.645] [INFO] default -   Status: no changes
[2022-05-26T21:52:13.663] [INFO] default -   Outputs:
[2022-05-26T21:52:13.664] [INFO] default -     BucketArn: arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
[2022-05-26T21:52:13.664] [INFO] default -     BucketName: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
[2022-05-26T21:52:13.665] [INFO] default -     Endpoint: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
[2022-05-26T21:52:13.666] [INFO] default - 
[2022-05-26T21:52:13.666] [DEBUG] default - deployRet [
  {
    id: 'admin-notes-debug-stack',
    name: 'admin-notes-debug-stack',
    region: 'us-east-1',
    status: 'unchanged',
    errorMessage: undefined,
    outputs: {
      BucketArn: 'arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0',
      BucketName: 'admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0',
      Endpoint: 'wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin'
    },
    exports: {}
  }
]
[2022-05-26T21:52:13.667] [INFO] default - 
[2022-05-26T21:52:13.668] [INFO] default - ===============
[2022-05-26T21:52:13.668] [INFO] default -  Deploying app
[2022-05-26T21:52:13.669] [INFO] default - ===============
[2022-05-26T21:52:13.669] [INFO] default - 
[2022-05-26T21:52:13.671] [DEBUG] core - synth {
  output: '.build/cdk.out',
  app: 'node .build/run.js',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-05-26T21:52:18.164] [TRACE] cdk - [32mSuccessfully synthesized to [34m/Users/jmkim/notes/.build/cdk.out[39m[32m[39m

[2022-05-26T21:52:18.164] [TRACE] cdk - Supply a stack id ([32madmin-notes-MyStack[39m, [32madmin-notes-StorageStack[39m, [32madmin-notes-ApiStack[39m) to display its template.

[2022-05-26T21:52:18.175] [TRACE] cdk - 

[2022-05-26T21:52:30.339] [INFO] default - [90mDeploying stacks[39m
[2022-05-26T21:52:30.353] [DEBUG] core - checkInReviewBootstrapStacks
[2022-05-26T21:52:30.370] [DEBUG] core - checkInReviewBootstrapStackInRegion us-east-1
[2022-05-26T21:52:31.234] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"pending","dependencies":["admin-notes-StorageStack"],"region":"us-east-1","events":[]},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-05-26T21:52:31.234] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"pending","dependencies":["admin-notes-StorageStack"],"region":"us-east-1","events":[]},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-05-26T21:52:31.234] [DEBUG] core - deploy stack: started admin-notes-StorageStack
[2022-05-26T21:52:31.235] [DEBUG] core - deploy stack: get pre-deploy status
[2022-05-26T21:52:31.237] [DEBUG] core - deploy stack: started admin-notes-MyStack
[2022-05-26T21:52:31.238] [DEBUG] core - deploy stack: get pre-deploy status
[2022-05-26T21:52:32.101] [DEBUG] core - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-25T11:32:04.361Z
}
[2022-05-26T21:52:32.102] [DEBUG] core - deploy stack: addInUseExports
[2022-05-26T21:52:32.104] [DEBUG] core - deploy stack: isTemplateChanged
[2022-05-26T21:52:32.128] [DEBUG] core - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-23T14:00:27.868Z
}
[2022-05-26T21:52:32.143] [DEBUG] core - deploy stack: addInUseExports
[2022-05-26T21:52:32.146] [DEBUG] core - deploy stack: isTemplateChanged
[2022-05-26T21:52:32.970] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Uploads
          addr: c8ff75e9b8ea3437c5c125f407e1ba513c0fec33d9
          stack: admin-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c888d084f1a912ef3ee73aabfcbd1908e7242d4926
          stack: admin-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: admin-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:32.971] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Uploads
          addr: c8ff75e9b8ea3437c5c125f407e1ba513c0fec33d9
          stack: admin-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c888d084f1a912ef3ee73aabfcbd1908e7242d4926
          stack: admin-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: admin-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:32.971] [DEBUG] core - deploy stack: isTemplateChanged: unchanged
[2022-05-26T21:52:32.972] [DEBUG] core - deploy stack: done admin-notes-StorageStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '770168654497',
  outputs: {
    ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38: 'arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes',
    ExportsOutputRefNotesTable7100B0E8C879CB95: 'admin-notes-Notes'
  },
  exports: {
    'admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38': 'arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes',
    'admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95': 'admin-notes-Notes'
  }
}
[2022-05-26T21:52:32.972] [INFO] core - [32m[39m
[32m ✅  admin-notes-StorageStack (no changes)[39m
[32m[39m
[2022-05-26T21:52:33.047] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-MyStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Api
          addr: c8957c3e1985336830253373f09cb76bc1c3f0fb16
          stack: admin-notes-MyStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - route: GET /
                fn:
                  node: c84eaeb289b7dadcbd4c77eb8ffe13c22a56f8dd6e
                  stack: admin-notes-MyStack
        - id: Lambda_GET_--
          addr: c84eaeb289b7dadcbd4c77eb8ffe13c22a56f8dd6e
          stack: admin-notes-MyStack
          type: Function
          data:
            localId: admin-notes-MyStack-Api-Lambda_GET_-
            arn:
              Fn::GetAtt:
                - ApiLambdaGETB1714EF3
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: admin-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/admin-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/LogGroup/Resource
  ApiLambdaGETServiceRole210B6205:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/ServiceRole/Resource
  ApiLambdaGETServiceRoleDefaultPolicy013A8DEA:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETServiceRoleDefaultPolicy013A8DEA
      Roles:
        - Ref: ApiLambdaGETServiceRole210B6205
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETB1714EF3:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETServiceRole210B6205
          - Arn
      Environment:
        Variables:
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/lambda.handler
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-MyStack-Api-Lambda_GET_-
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETServiceRoleDefaultPolicy013A8DEA
      - ApiLambdaGETServiceRole210B6205
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETEventInvokeConfig1B7345F6:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETB1714EF3
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/EventInvokeConfig/Resource
  ApiRouteGETIntegrationGET10DCD122:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETB1714EF3
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Integration_GET_--/Resource
  ApiRouteGETIntegrationGETPermission3C1F1A50:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETB1714EF3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Integration_GET_---Permission
  ApiRouteGET8AC7D3F8:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETIntegrationGET10DCD122
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:33.048] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-MyStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Api
          addr: c8957c3e1985336830253373f09cb76bc1c3f0fb16
          stack: admin-notes-MyStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - route: GET /
                fn:
                  node: c84eaeb289b7dadcbd4c77eb8ffe13c22a56f8dd6e
                  stack: admin-notes-MyStack
        - id: Lambda_GET_--
          addr: c84eaeb289b7dadcbd4c77eb8ffe13c22a56f8dd6e
          stack: admin-notes-MyStack
          type: Function
          data:
            localId: admin-notes-MyStack-Api-Lambda_GET_-
            arn:
              Fn::GetAtt:
                - ApiLambdaGETB1714EF3
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: admin-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/admin-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/LogGroup/Resource
  ApiLambdaGETServiceRole210B6205:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/ServiceRole/Resource
  ApiLambdaGETServiceRoleDefaultPolicy013A8DEA:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETServiceRoleDefaultPolicy013A8DEA
      Roles:
        - Ref: ApiLambdaGETServiceRole210B6205
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETB1714EF3:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETServiceRole210B6205
          - Arn
      Environment:
        Variables:
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/lambda.handler
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-MyStack-Api-Lambda_GET_-
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETServiceRoleDefaultPolicy013A8DEA
      - ApiLambdaGETServiceRole210B6205
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETEventInvokeConfig1B7345F6:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETB1714EF3
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Lambda_GET_--/EventInvokeConfig/Resource
  ApiRouteGETIntegrationGET10DCD122:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETB1714EF3
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Integration_GET_--/Resource
  ApiRouteGETIntegrationGETPermission3C1F1A50:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETB1714EF3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Integration_GET_---Permission
  ApiRouteGET8AC7D3F8:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETIntegrationGET10DCD122
    Metadata:
      aws:cdk:path: admin-notes-MyStack/Api/Route_GET_--/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:33.067] [DEBUG] core - deploy stack: isTemplateChanged: unchanged
[2022-05-26T21:52:33.067] [DEBUG] core - deploy stack: done admin-notes-MyStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '770168654497',
  outputs: {
    ApiEndpoint: 'https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com'
  },
  exports: {}
}
[2022-05-26T21:52:33.068] [INFO] core - [32m[39m
[32m ✅  admin-notes-MyStack (no changes)[39m
[32m[39m
[2022-05-26T21:52:33.068] [DEBUG] core - At least 1 stack successfully deployed, call deployStacks() again
[2022-05-26T21:52:33.069] [DEBUG] core - deploy stack: started admin-notes-ApiStack
[2022-05-26T21:52:33.069] [DEBUG] core - deploy stack: get pre-deploy status
[2022-05-26T21:52:33.966] [DEBUG] core - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:33.972] [DEBUG] core - deploy stack: addInUseExports
[2022-05-26T21:52:33.975] [DEBUG] core - deploy stack: isTemplateChanged
[2022-05-26T21:52:35.162] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Api
          addr: c80cd4adec244af350e61fbbc8e693dd962df47a8f
          stack: admin-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - route: GET /notes
                fn:
                  node: c8c49d3c77a561e5794968d5f6b2b61cc847aa10fe
                  stack: admin-notes-ApiStack
              - route: POST /notes
                fn:
                  node: c81c24627eb1861acc459c29958a22e9b44ef49f42
                  stack: admin-notes-ApiStack
              - route: GET /notes/{id}
                fn:
                  node: c831b152e10a4f98db37a36f66893f991ac55f8aff
                  stack: admin-notes-ApiStack
              - route: PUT /notes/{id}
                fn:
                  node: c88eada48695b98c19c0ffdc2753a1ef8174c3a686
                  stack: admin-notes-ApiStack
        - id: Lambda_GET_--notes
          addr: c8c49d3c77a561e5794968d5f6b2b61cc847aa10fe
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
        - id: Lambda_POST_--notes
          addr: c81c24627eb1861acc459c29958a22e9b44ef49f42
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
        - id: Lambda_GET_--notes--{id}
          addr: c831b152e10a4f98db37a36f66893f991ac55f8aff
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
        - id: Lambda_PUT_--notes--{id}
          addr: c88eada48695b98c19c0ffdc2753a1ef8174c3a686
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: admin-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/admin-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:35.179] [DEBUG] core - Resources:
  SSTMetadata:
    Type: AWS::CDK::Metadata
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/SSTMetadata
      sst:version: 1.1.2
      sst:constructs:
        - id: Api
          addr: c80cd4adec244af350e61fbbc8e693dd962df47a8f
          stack: admin-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - route: GET /notes
                fn:
                  node: c8c49d3c77a561e5794968d5f6b2b61cc847aa10fe
                  stack: admin-notes-ApiStack
              - route: POST /notes
                fn:
                  node: c81c24627eb1861acc459c29958a22e9b44ef49f42
                  stack: admin-notes-ApiStack
              - route: GET /notes/{id}
                fn:
                  node: c831b152e10a4f98db37a36f66893f991ac55f8aff
                  stack: admin-notes-ApiStack
              - route: PUT /notes/{id}
                fn:
                  node: c88eada48695b98c19c0ffdc2753a1ef8174c3a686
                  stack: admin-notes-ApiStack
              - route: DELETE /notes/{id}
                fn:
                  node: c8c477f34362dd2ca549c263798ed8c89a78df1b97
                  stack: admin-notes-ApiStack
        - id: Lambda_GET_--notes
          addr: c8c49d3c77a561e5794968d5f6b2b61cc847aa10fe
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
        - id: Lambda_POST_--notes
          addr: c81c24627eb1861acc459c29958a22e9b44ef49f42
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
        - id: Lambda_GET_--notes--{id}
          addr: c831b152e10a4f98db37a36f66893f991ac55f8aff
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
        - id: Lambda_PUT_--notes--{id}
          addr: c88eada48695b98c19c0ffdc2753a1ef8174c3a686
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
        - id: Lambda_DELETE_--notes--{id}
          addr: c8c477f34362dd2ca549c263798ed8c89a78df1b97
          stack: admin-notes-ApiStack
          type: Function
          data:
            localId: admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaDELETEnotesid69A96EAD
                - Arn
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: admin-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/admin-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
  ApiLambdaDELETEnotesidServiceRole196EBA58:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/Resource
  ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
              - >-
                arn:aws:s3:::admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      Roles:
        - Ref: ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaDELETEnotesid69A96EAD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-770168654497-us-east-1
        S3Key: 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesidServiceRole196EBA58
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: backend
          SST_DEBUG_SRC_HANDLER: functions/delete.main
          SST_DEBUG_ENDPOINT: wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin
          SST_DEBUG_BUCKET_NAME: admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
          SST_FUNCTION_ID: admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: admin
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      - ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/Resource
      aws:asset:path: >-
        asset.60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaDELETEnotesid69A96EAD
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:770168654497:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        admin-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}-Permission
  ApiRouteDELETEnotesidCFA3191E:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: DELETE /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5
    Metadata:
      aws:cdk:path: admin-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-05-26T21:52:35.179] [DEBUG] core - deploy stack: run cdk deploy
[2022-05-26T21:52:35.204] [DEBUG] core - deploy stack: poll stack status
[2022-05-26T21:52:36.091] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:36.103] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:36.804] [TRACE] core - deploy stack: run cdk deploy: stderr: 
✨  Synthesis time: 0.04s


[2022-05-26T21:52:36.806] [TRACE] core - deploy stack: run cdk deploy: stderr: [1madmin-notes-ApiStack[22m: deploying...

[2022-05-26T21:52:39.630] [TRACE] core - deploy stack: run cdk deploy: stderr: [0%] start: Publishing 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af:770168654497-us-east-1

[2022-05-26T21:52:39.643] [TRACE] core - deploy stack: run cdk deploy: stderr: [0%] start: Publishing b9e10818fe2a8fd1c432c5d47e4303b35f536e246d20de9a4a62c9449404b5ed:770168654497-us-east-1

[2022-05-26T21:52:39.928] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:39.940] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:42.173] [TRACE] core - deploy stack: run cdk deploy: stderr: [50%] success: Published 60c24673c0b393cf32ebf0a8f67868ba680b207707b56cc28238f35f127f51af:770168654497-us-east-1

[2022-05-26T21:52:43.810] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:43.818] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:44.821] [TRACE] core - deploy stack: run cdk deploy: stderr: [100%] success: Published b9e10818fe2a8fd1c432c5d47e4303b35f536e246d20de9a4a62c9449404b5ed:770168654497-us-east-1

[2022-05-26T21:52:47.660] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:47.671] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:47.797] [TRACE] core - deploy stack: run cdk deploy: stderr: [1madmin-notes-ApiStack[22m: creating CloudFormation changeset...

[2022-05-26T21:52:51.486] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:51.488] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:55.368] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:55.376] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:52:59.222] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:52:59.241] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:53:03.095] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:53:03.095] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:53:06.965] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:53:06.973] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:53:10.833] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-05-26T12:39:18.508Z
}
[2022-05-26T21:53:10.851] [DEBUG] core - deploy stack: poll stack status: unknown
[2022-05-26T21:53:14.684] [DEBUG] core - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_IN_PROGRESS',
  LastUpdatedTime: 2022-05-26T12:53:14.348Z
}
[2022-05-26T21:53:14.685] [DEBUG] core - deploy stack: poll stack status: cf update started
[2022-05-26T21:53:14.686] [DEBUG] core - deploy stack: done admin-notes-ApiStack {
  status: 'deploying',
  statusReason: undefined,
  account: '770168654497',
  outputs: {
    ApiEndpoint: 'https://0ourg5or4b.execute-api.us-east-1.amazonaws.com'
  },
  exports: {}
}
[2022-05-26T21:53:14.686] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[],"outputs":{"ApiEndpoint":"https://0ourg5or4b.execute-api.us-east-1.amazonaws.com"},"exports":{}},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:14.687] [INFO] default - Checking deploy status...
[2022-05-26T21:53:14.713] [DEBUG] core - deploy stack: run cdk deploy: exited with code null
[2022-05-26T21:53:19.689] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[],"outputs":{"ApiEndpoint":"https://0ourg5or4b.execute-api.us-east-1.amazonaws.com"},"exports":{}},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:19.696] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:21.111] [INFO] core - admin-notes-ApiStack | [0mUPDATE_IN_PROGRESS[0m | AWS::CloudFormation::Stack | [0m[1madmin-notes-ApiStack[22m[0m | [0mUser Initiated[0m
[2022-05-26T21:53:21.126] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:53:21.931] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:21.945] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:26.947] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:26.960] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:28.814] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[0m
[2022-05-26T21:53:28.833] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:53:28.834] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:53:29.647] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:29.652] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:34.655] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:34.656] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:36.952] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:53:37.837] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:37.845] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:37.846] [INFO] default - Checking deploy status...
[2022-05-26T21:53:42.847] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:42.860] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:44.147] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Role | [32m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[39m
[2022-05-26T21:53:44.158] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[0m
[2022-05-26T21:53:44.159] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:53:44.160] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:53:45.080] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:45.089] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:50.091] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:50.102] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:52.303] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:53:53.147] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:53.147] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:53.148] [INFO] default - Checking deploy status...
[2022-05-26T21:53:58.150] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:53:58.155] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:53:59.842] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Policy | [32m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[39m
[2022-05-26T21:53:59.860] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaDELETEnotesid69A96EAD[22m[0m
[2022-05-26T21:53:59.861] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:54:00.977] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:00.986] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:05.988] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:06.004] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:54:07.700] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaDELETEnotesid69A96EAD[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:54:07.701] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:54:08.547] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:08.564] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:13.567] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:13.576] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:54:15.720] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Function | [32m[1mApiLambdaDELETEnotesid69A96EAD[22m[39m
[2022-05-26T21:54:15.723] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[0m
[2022-05-26T21:54:15.723] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[0m
[2022-05-26T21:54:15.724] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[0m
[2022-05-26T21:54:15.724] [INFO] core - admin-notes-ApiStack | [32mUPDATE_COMPLETE[39m | AWS::CDK::Metadata | [32m[1mSSTMetadata[22m[39m
[2022-05-26T21:54:15.724] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:54:15.725] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:54:15.725] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Integration | [32m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[39m
[2022-05-26T21:54:15.725] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:54:15.726] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::EventInvokeConfig | [32m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[39m
[2022-05-26T21:54:15.744] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:54:16.568] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:16.569] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:21.570] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:21.577] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:54:23.633] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRouteDELETEnotesidCFA3191E[22m[0m
[2022-05-26T21:54:23.645] [INFO] core - admin-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRouteDELETEnotesidCFA3191E[22m[0m | [0mResource creation Initiated[0m
[2022-05-26T21:54:23.646] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Route | [32m[1mApiRouteDELETEnotesidCFA3191E[22m[39m
[2022-05-26T21:54:23.646] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:54:24.507] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:15.687Z","timestamp":"2022-05-26T12:54:15.687Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:17.179Z","timestamp":"2022-05-26T12:54:17.179Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-05-26T12:54:17.358Z","timestamp":"2022-05-26T12:54:17.358Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:24.521] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:15.687Z","timestamp":"2022-05-26T12:54:15.687Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:17.179Z","timestamp":"2022-05-26T12:54:17.179Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-05-26T12:54:17.358Z","timestamp":"2022-05-26T12:54:17.358Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:29.523] [TRACE] core - Initial stack states: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"deploying","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:15.687Z","timestamp":"2022-05-26T12:54:15.687Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:17.179Z","timestamp":"2022-05-26T12:54:17.179Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-05-26T12:54:17.358Z","timestamp":"2022-05-26T12:54:17.358Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z"},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:29.538] [DEBUG] core - Fetching stack events admin-notes-ApiStack
[2022-05-26T21:54:33.064] [INFO] core - admin-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Permission | [32m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[39m
[2022-05-26T21:54:33.066] [INFO] core - admin-notes-ApiStack | [32mUPDATE_COMPLETE_CLEANUP_IN_PROGRESS[39m | AWS::CloudFormation::Stack | [32m[1madmin-notes-ApiStack[22m[39m
[2022-05-26T21:54:33.067] [INFO] core - admin-notes-ApiStack | [32mUPDATE_COMPLETE[39m | AWS::CloudFormation::Stack | [32m[1madmin-notes-ApiStack[22m[39m
[2022-05-26T21:54:33.067] [DEBUG] core - Checking stack status admin-notes-ApiStack
[2022-05-26T21:54:33.910] [INFO] core - [32m[39m
[32m ✅  admin-notes-ApiStack[39m
[32m[39m
[2022-05-26T21:54:33.928] [TRACE] core - After update deploy statuses: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"succeeded","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"endedAt":1653569673910,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:15.687Z","timestamp":"2022-05-26T12:54:15.687Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:17.179Z","timestamp":"2022-05-26T12:54:17.179Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-05-26T12:54:17.358Z","timestamp":"2022-05-26T12:54:17.358Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_COMPLETE-2022-05-26T12:54:22.084Z","timestamp":"2022-05-26T12:54:22.084Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"f8d5cbc0-dcf2-11ec-b093-12c59baed05f","timestamp":"2022-05-26T12:54:25.654Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"f98ce6c0-dcf2-11ec-a5d5-0e5efea3b9cb","timestamp":"2022-05-26T12:54:26.846Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"admin-notes-ApiStack"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z","outputs":{"ApiEndpoint":"https://0ourg5or4b.execute-api.us-east-1.amazonaws.com"},"exports":{}},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:33.929] [TRACE] core - After deploy stacks: [{"id":"admin-notes-StorageStack","name":"admin-notes-StorageStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569552972,"endedAt":1653569552972,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"},"exports":{"admin-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:770168654497:table/admin-notes-Notes","admin-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"admin-notes-Notes"}},{"id":"admin-notes-ApiStack","name":"admin-notes-ApiStack","status":"succeeded","dependencies":["admin-notes-StorageStack"],"account":"770168654497","region":"us-east-1","startedAt":1653569594686,"endedAt":1653569673910,"events":[{"eventId":"ce581c40-dcf2-11ec-834d-0a23fab90aa3","timestamp":"2022-05-26T12:53:14.348Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:22.849Z","timestamp":"2022-05-26T12:53:22.849Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-05-26T12:53:23.362Z","timestamp":"2022-05-26T12:53:23.362Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-05-26T12:53:38.421Z","timestamp":"2022-05-26T12:53:38.421Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:40.954Z","timestamp":"2022-05-26T12:53:40.954Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-05-26T12:53:42.177Z","timestamp":"2022-05-26T12:53:42.177Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-05-26T12:53:55.395Z","timestamp":"2022-05-26T12:53:55.395Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:53:58.457Z","timestamp":"2022-05-26T12:53:58.457Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-05-26T12:54:01.139Z","timestamp":"2022-05-26T12:54:01.139Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-05-26T12:54:08.188Z","timestamp":"2022-05-26T12:54:08.188Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:11.069Z","timestamp":"2022-05-26T12:54:11.069Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.080Z","timestamp":"2022-05-26T12:54:11.080Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:11.177Z","timestamp":"2022-05-26T12:54:11.177Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"SSTMetadata-UPDATE_COMPLETE-2022-05-26T12:54:11.196Z","timestamp":"2022-05-26T12:54:11.196Z","resourceType":"AWS::CDK::Metadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"SSTMetadata"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-05-26T12:54:11.639Z","timestamp":"2022-05-26T12:54:11.639Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-05-26T12:54:12.754Z","timestamp":"2022-05-26T12:54:12.754Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-05-26T12:54:12.903Z","timestamp":"2022-05-26T12:54:12.903Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-05-26T12:54:12.947Z","timestamp":"2022-05-26T12:54:12.947Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-05-26T12:54:13.110Z","timestamp":"2022-05-26T12:54:13.110Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:15.687Z","timestamp":"2022-05-26T12:54:15.687Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-05-26T12:54:17.179Z","timestamp":"2022-05-26T12:54:17.179Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-05-26T12:54:17.358Z","timestamp":"2022-05-26T12:54:17.358Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_COMPLETE-2022-05-26T12:54:22.084Z","timestamp":"2022-05-26T12:54:22.084Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"f8d5cbc0-dcf2-11ec-b093-12c59baed05f","timestamp":"2022-05-26T12:54:25.654Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"admin-notes-ApiStack"},{"eventId":"f98ce6c0-dcf2-11ec-a5d5-0e5efea3b9cb","timestamp":"2022-05-26T12:54:26.846Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"admin-notes-ApiStack"}],"eventsFirstEventAt":"2022-05-26T12:53:09.348Z","outputs":{"ApiEndpoint":"https://0ourg5or4b.execute-api.us-east-1.amazonaws.com"},"exports":{}},{"id":"admin-notes-MyStack","name":"admin-notes-MyStack","status":"unchanged","dependencies":[],"account":"770168654497","region":"us-east-1","startedAt":1653569553068,"endedAt":1653569553068,"events":[],"outputs":{"ApiEndpoint":"https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-05-26T21:54:33.932] [INFO] default - 
Stack admin-notes-StorageStack
[2022-05-26T21:54:33.951] [INFO] default -   Status: no changes
[2022-05-26T21:54:33.952] [INFO] default - 
Stack admin-notes-ApiStack
[2022-05-26T21:54:33.953] [INFO] default -   Status: deployed
[2022-05-26T21:54:33.953] [INFO] default -   Outputs:
[2022-05-26T21:54:33.953] [INFO] default -     ApiEndpoint: https://0ourg5or4b.execute-api.us-east-1.amazonaws.com
[2022-05-26T21:54:33.954] [INFO] default - 
Stack admin-notes-MyStack
[2022-05-26T21:54:33.954] [INFO] default -   Status: no changes
[2022-05-26T21:54:33.955] [INFO] default -   Outputs:
[2022-05-26T21:54:33.955] [INFO] default -     ApiEndpoint: https://7pjvx2gww5.execute-api.us-east-1.amazonaws.com
[2022-05-26T21:54:33.955] [INFO] default - 
[2022-05-26T21:54:34.808] [INFO] default - 
[2022-05-26T21:54:34.809] [INFO] default - ==========================
[2022-05-26T21:54:34.809] [INFO] default -  Starting Live Lambda Dev
[2022-05-26T21:54:34.810] [INFO] default - ==========================
[2022-05-26T21:54:34.810] [INFO] default - 
[2022-05-26T21:54:34.822] [DEBUG] websocket - startWebSocketClient wss://19beu6mjcd.execute-api.us-east-1.amazonaws.com/admin admin-notes-debug-stack-bucket83908e77-192j5fwgvuhu0
[2022-05-26T21:54:34.841] [DEBUG] default - Checking port 12557 on host 0.0.0.0
[2022-05-26T21:54:34.866] [DEBUG] default - Checking port 13557 on host 0.0.0.0
[2022-05-26T21:54:34.881] [DEBUG] client - Starting runtime server on port: 12557
[2022-05-26T21:54:36.122] [DEBUG] websocket - WebSocket connection opened
[2022-05-26T21:54:37.434] [INFO] client - Debug session started. Listening for requests...
[2022-05-26T21:54:37.434] [DEBUG] client - Client connection id: Su_F1eLcoAMCEOA=
[2022-05-26T21:56:07.960] [INFO] client - [90m939948e8-8f74-4f54-aa69-af0bc2b59b60 REQUEST admin-notes-ApiStack-ApiLambdaDELETEnotesid69A96EA-auforcc1UQh1 [functions/delete.main] invoked by API DELETE /notes/6a4caeb0-dc1f-11ec-9201-17f1b42409ba[39m
[2022-05-26T21:56:07.968] [DEBUG] client - Invoking local function...
[2022-05-26T21:56:07.969] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}',
  handler: 'functions/delete.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T21:56:08.003] [DEBUG] client - First build...
[2022-05-26T21:56:08.969] [DEBUG] client - First build finished
[2022-05-26T21:56:08.971] [DEBUG] client - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}/backend/functions/delete.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-05-26T21:56:09.489] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-05-26T21:56:09.496] [DEBUG] client - Sending next payload 939948e8-8f74-4f54-aa69-af0bc2b59b60 admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id} {
  version: '2.0',
  routeKey: 'DELETE /notes/{id}',
  rawPath: '/notes/6a4caeb0-dc1f-11ec-9201-17f1b42409ba',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '0',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f78e6-608c953e0296706b656de721',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'DELETE',
      path: '/notes/6a4caeb0-dc1f-11ec-9201-17f1b42409ba',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'Su_UGhUWoAMEPQw=',
    routeKey: 'DELETE /notes/{id}',
    stage: '$default',
    time: '26/May/2022:12:56:06 +0000',
    timeEpoch: 1653569766839
  },
  pathParameters: { id: '6a4caeb0-dc1f-11ec-9201-17f1b42409ba' },
  isBase64Encoded: false
}
[2022-05-26T21:56:10.443] [DEBUG] client - Received response for 939948e8-8f74-4f54-aa69-af0bc2b59b60 admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-05-26T21:56:10.451] [DEBUG] client - Response { type: 'success', data: { statusCode: 200, body: '{"status":true}' } }
[2022-05-26T21:56:10.452] [INFO] client - [90m939948e8-8f74-4f54-aa69-af0bc2b59b60 RESPONSE {"statusCode":200,"body":"{\"status\":true}"}[39m
[2022-05-26T21:56:10.454] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-05-26T21:59:48.316] [INFO] client - [90m71b63c48-7c24-4ff7-a20b-eb3beec8dc8f REQUEST admin-notes-ApiStack-ApiLambdaPOSTnotes3B067E1B-cqWAebdQ22uI [functions/create.main] invoked by API POST /notes[39m
[2022-05-26T21:59:48.326] [DEBUG] client - Invoking local function...
[2022-05-26T21:59:48.327] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_POST_-notes',
  handler: 'functions/create.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T21:59:48.327] [DEBUG] client - First build...
[2022-05-26T21:59:49.181] [DEBUG] client - First build finished
[2022-05-26T21:59:49.188] [DEBUG] client - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_POST_-notes/backend/functions/create.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-05-26T21:59:49.680] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_POST_-notes
[2022-05-26T21:59:49.697] [DEBUG] client - Sending next payload 71b63c48-7c24-4ff7-a20b-eb3beec8dc8f admin-notes-ApiStack-Api-Lambda_POST_-notes {
  version: '2.0',
  routeKey: 'POST /notes',
  rawPath: '/notes',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '0',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f79c3-014a5573315c479b66436f92',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'POST',
      path: '/notes',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'Su_2iiUzoAMEP5Q=',
    routeKey: 'POST /notes',
    stage: '$default',
    time: '26/May/2022:12:59:47 +0000',
    timeEpoch: 1653569987259
  },
  isBase64Encoded: false
}
[2022-05-26T21:59:49.716] [INFO] client - SyntaxError: Unexpected token u in JSON at position 0
    at JSON.parse (<anonymous>)
    at file:///Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_POST_-notes/backend/functions/create.js:609692:21
    at Runtime.handler (file:///Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_POST_-notes/backend/functions/create.js:609665:20)
    at Runtime.handleOnce (file:///Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/lib/Runtime/Runtime.js:53:33)
    at processTicksAndRejections (internal/process/task_queues.js:93:5)
[2022-05-26T21:59:49.721] [DEBUG] client - Received response for 71b63c48-7c24-4ff7-a20b-eb3beec8dc8f admin-notes-ApiStack-Api-Lambda_POST_-notes
[2022-05-26T21:59:49.722] [DEBUG] client - Response {
  type: 'success',
  data: {
    statusCode: 500,
    body: '{"error":"Unexpected token u in JSON at position 0"}'
  }
}
[2022-05-26T21:59:49.722] [INFO] client - [90m71b63c48-7c24-4ff7-a20b-eb3beec8dc8f RESPONSE {"statusCode":500,"body":"{\"error\":\"Unexpected token u in JSON at position 0\"}"}[39m
[2022-05-26T21:59:49.724] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_POST_-notes
[2022-05-26T22:01:11.300] [INFO] client - [90mb3e60458-5a5e-469b-bead-84aa309c0c93 REQUEST admin-notes-ApiStack-ApiLambdaPOSTnotes3B067E1B-cqWAebdQ22uI [functions/create.main] invoked by API POST /notes[39m
[2022-05-26T22:01:11.319] [DEBUG] client - Invoking local function...
[2022-05-26T22:01:11.322] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_POST_-notes',
  handler: 'functions/create.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T22:01:11.323] [DEBUG] client - Sending next payload b3e60458-5a5e-469b-bead-84aa309c0c93 admin-notes-ApiStack-Api-Lambda_POST_-notes {
  version: '2.0',
  routeKey: 'POST /notes',
  rawPath: '/notes',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '50',
    'content-type': 'text/plain;charset=UTF-8',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f7a16-43c530d53d11d5d1062ae74e',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'POST',
      path: '/notes',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'SvADnjHHoAMEP8g=',
    routeKey: 'POST /notes',
    stage: '$default',
    time: '26/May/2022:13:01:10 +0000',
    timeEpoch: 1653570070923
  },
  body: '{"content":"Hello World","attachment":"hello.jpg"}',
  isBase64Encoded: false
}
[2022-05-26T22:01:12.233] [DEBUG] client - Received response for b3e60458-5a5e-469b-bead-84aa309c0c93 admin-notes-ApiStack-Api-Lambda_POST_-notes
[2022-05-26T22:01:12.250] [DEBUG] client - Response {
  type: 'success',
  data: {
    statusCode: 200,
    body: '{"userId":"123","noteId":"eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9","content":"Hello World","attachment":"hello.jpg","createdAt":1653570071327}'
  }
}
[2022-05-26T22:01:12.250] [INFO] client - [90mb3e60458-5a5e-469b-bead-84aa309c0c93 RESPONSE {"statusCode":200,"body":"{\"userId\":\"123\",\"noteId\":\"eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9\",\"content\":\"Hello World\",\"attachment\"... 39 more characters"}[39m
[2022-05-26T22:01:12.254] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_POST_-notes
[2022-05-26T22:02:44.253] [INFO] client - [90mafdc12bd-b48a-407a-bbe1-10acc937b8c7 REQUEST admin-notes-ApiStack-ApiLambdaGETnotesidBDFD7F2C-TP5uD9cuKPV2 [functions/get.main] invoked by API GET /notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9[39m
[2022-05-26T22:02:44.256] [DEBUG] client - Invoking local function...
[2022-05-26T22:02:44.257] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}',
  handler: 'functions/get.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T22:02:44.258] [DEBUG] client - First build...
[2022-05-26T22:02:45.214] [DEBUG] client - First build finished
[2022-05-26T22:02:45.215] [DEBUG] client - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}/backend/functions/get.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-05-26T22:02:45.725] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
[2022-05-26T22:02:45.742] [DEBUG] client - Sending next payload afdc12bd-b48a-407a-bbe1-10acc937b8c7 admin-notes-ApiStack-Api-Lambda_GET_-notes-{id} {
  version: '2.0',
  routeKey: 'GET /notes/{id}',
  rawPath: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '0',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f7a73-11616ee328349ffd6947cc88',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'GET',
      path: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'SvASBhFFIAMEPtw=',
    routeKey: 'GET /notes/{id}',
    stage: '$default',
    time: '26/May/2022:13:02:43 +0000',
    timeEpoch: 1653570163100
  },
  pathParameters: { id: 'eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9' },
  isBase64Encoded: false
}
[2022-05-26T22:02:46.634] [DEBUG] client - Received response for afdc12bd-b48a-407a-bbe1-10acc937b8c7 admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
[2022-05-26T22:02:46.646] [DEBUG] client - Response {
  type: 'success',
  data: {
    statusCode: 200,
    body: '{"attachment":"hello.jpg","content":"Hello World","createdAt":1653570071327,"noteId":"eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9","userId":"123"}'
  }
}
[2022-05-26T22:02:46.646] [INFO] client - [90mafdc12bd-b48a-407a-bbe1-10acc937b8c7 RESPONSE {"statusCode":200,"body":"{\"attachment\":\"hello.jpg\",\"content\":\"Hello World\",\"createdAt\":1653570071327,\"noteId\":\"eaa1aaf0-dcf3-... 39 more characters"}[39m
[2022-05-26T22:02:46.648] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_GET_-notes-{id}
[2022-05-26T22:03:49.500] [INFO] client - [90m45fe760e-2cfd-4d7b-95d0-69b214fab286 REQUEST admin-notes-ApiStack-ApiLambdaGETnotesA3E56CF7-KYFEWdBa7tuf [functions/list.main] invoked by API GET /notes[39m
[2022-05-26T22:03:49.509] [DEBUG] client - Invoking local function...
[2022-05-26T22:03:49.510] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_GET_-notes',
  handler: 'functions/list.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T22:03:49.510] [DEBUG] client - First build...
[2022-05-26T22:03:50.436] [DEBUG] client - First build finished
[2022-05-26T22:03:50.437] [DEBUG] client - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_GET_-notes/backend/functions/list.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-05-26T22:03:50.943] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_GET_-notes
[2022-05-26T22:03:50.946] [DEBUG] client - Sending next payload 45fe760e-2cfd-4d7b-95d0-69b214fab286 admin-notes-ApiStack-Api-Lambda_GET_-notes {
  version: '2.0',
  routeKey: 'GET /notes',
  rawPath: '/notes',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '0',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f7ab4-25afed9b54cbbf856cac214d',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'GET',
      path: '/notes',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'SvAcPjnVoAMEP1A=',
    routeKey: 'GET /notes',
    stage: '$default',
    time: '26/May/2022:13:03:48 +0000',
    timeEpoch: 1653570228504
  },
  isBase64Encoded: false
}
[2022-05-26T22:03:51.834] [DEBUG] client - Received response for 45fe760e-2cfd-4d7b-95d0-69b214fab286 admin-notes-ApiStack-Api-Lambda_GET_-notes
[2022-05-26T22:03:51.850] [DEBUG] client - Response {
  type: 'success',
  data: {
    statusCode: 200,
    body: '[{"attachment":"hello.jpg","content":"Hello World","createdAt":1653570071327,"noteId":"eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9","userId":"123"}]'
  }
}
[2022-05-26T22:03:51.851] [INFO] client - [90m45fe760e-2cfd-4d7b-95d0-69b214fab286 RESPONSE {"statusCode":200,"body":"[{\"attachment\":\"hello.jpg\",\"content\":\"Hello World\",\"createdAt\":1653570071327,\"noteId\":\"eaa1aaf0-dcf3... 41 more characters"}[39m
[2022-05-26T22:03:51.854] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_GET_-notes
[2022-05-26T22:05:42.075] [INFO] client - [90m35697dc0-3f00-42d7-b38d-e52babb8c374 REQUEST admin-notes-ApiStack-ApiLambdaPUTnotesid28D10C39-OEkMzVWto9eT [functions/update.main] invoked by API PUT /notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9[39m
[2022-05-26T22:05:42.078] [DEBUG] client - Invoking local function...
[2022-05-26T22:05:42.079] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}',
  handler: 'functions/update.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T22:05:42.079] [DEBUG] client - First build...
[2022-05-26T22:05:42.813] [DEBUG] client - First build finished
[2022-05-26T22:05:42.814] [DEBUG] client - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/jmkim/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/jmkim/notes/.sst/artifacts/admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}/backend/functions/update.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-05-26T22:05:43.354] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
[2022-05-26T22:05:43.354] [DEBUG] client - Sending next payload 35697dc0-3f00-42d7-b38d-e52babb8c374 admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id} {
  version: '2.0',
  routeKey: 'PUT /notes/{id}',
  rawPath: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '46',
    'content-type': 'text/plain;charset=UTF-8',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f7b23-0559c6236f0b9dfd3e9ff499',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'PUT',
      path: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'SvAtpiIaoAMEPSg=',
    routeKey: 'PUT /notes/{id}',
    stage: '$default',
    time: '26/May/2022:13:05:39 +0000',
    timeEpoch: 1653570339994
  },
  pathParameters: { id: 'eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9' },
  body: '{"content":"New World","attachment":"new.jpg"}',
  isBase64Encoded: false
}
[2022-05-26T22:05:44.229] [DEBUG] client - Received response for 35697dc0-3f00-42d7-b38d-e52babb8c374 admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
[2022-05-26T22:05:44.237] [DEBUG] client - Response { type: 'success', data: { statusCode: 200, body: '{"status":true}' } }
[2022-05-26T22:05:44.239] [INFO] client - [90m35697dc0-3f00-42d7-b38d-e52babb8c374 RESPONSE {"statusCode":200,"body":"{\"status\":true}"}[39m
[2022-05-26T22:05:44.241] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
[2022-05-26T22:07:11.019] [INFO] client - [90mefdbd524-bc52-4637-bcb3-0d441c14930e REQUEST admin-notes-ApiStack-ApiLambdaDELETEnotesid69A96EA-auforcc1UQh1 [functions/delete.main] invoked by API DELETE /notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9[39m
[2022-05-26T22:07:11.024] [DEBUG] client - Invoking local function...
[2022-05-26T22:07:11.025] [DEBUG] client - Triggering {
  id: 'admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}',
  handler: 'functions/delete.main',
  runtime: 'nodejs16.x',
  srcPath: 'backend',
  bundle: { format: 'esm' },
  root: '/Users/jmkim/notes'
}
[2022-05-26T22:07:11.025] [DEBUG] client - Sending next payload efdbd524-bc52-4637-bcb3-0d441c14930e admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id} {
  version: '2.0',
  routeKey: 'DELETE /notes/{id}',
  rawPath: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7',
    'content-length': '0',
    host: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.serverless-stack.com',
    referer: 'https://console.serverless-stack.com/',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="101", "Google Chrome";v="101"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-628f7b7d-2233897d5af3dd8622987f67',
    'x-forwarded-for': '114.203.114.27',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '770168654497',
    apiId: '0ourg5or4b',
    domainName: '0ourg5or4b.execute-api.us-east-1.amazonaws.com',
    domainPrefix: '0ourg5or4b',
    http: {
      method: 'DELETE',
      path: '/notes/eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9',
      protocol: 'HTTP/1.1',
      sourceIp: '114.203.114.27',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36'
    },
    requestId: 'SvA7sjA1IAMEPrg=',
    routeKey: 'DELETE /notes/{id}',
    stage: '$default',
    time: '26/May/2022:13:07:09 +0000',
    timeEpoch: 1653570429894
  },
  pathParameters: { id: 'eaa1aaf0-dcf3-11ec-ba5b-95ae15d798e9' },
  isBase64Encoded: false
}
[2022-05-26T22:07:11.947] [DEBUG] client - Received response for efdbd524-bc52-4637-bcb3-0d441c14930e admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-05-26T22:07:11.949] [DEBUG] client - Response { type: 'success', data: { statusCode: 200, body: '{"status":true}' } }
[2022-05-26T22:07:11.966] [INFO] client - [90mefdbd524-bc52-4637-bcb3-0d441c14930e RESPONSE {"statusCode":200,"body":"{\"status\":true}"}[39m
[2022-05-26T22:07:11.969] [DEBUG] client - Worker waiting for function admin-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
